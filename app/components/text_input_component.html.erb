<div class="text-input <%= @classes unless @classes.blank? %>">
  <label class="text-input__label-wrapper">
    <% unless @no_label %>
          <span class="text-input__label">
            <%= @label %>
            <%= ' *' if @required %>
          </span>
    <% end %>

    <% if @type == :textarea %>
      <textarea class="text-input__area"
                rows="5"
                name="<%= @name %>"
                data-hx-on-change="this.parentElement.querySelector('.text-input__error')?.remove()"
                <% unless @placeholder.blank? %>placeholder="<%= @placeholder %>"<% end %>
      ><%= @value %></textarea>

    <% else %>
      <input class="text-input__input"
             <% unless @value.blank? then %>value="<%= @value %>"<% end %>
             hx-on-change="this.parentElement.querySelector('.text-input__error')?.remove()"
             name="<%= @name %>"
             type="text"
             <% unless @placeholder.blank? then %>placeholder="<%= @placeholder %>"<% end %>/>

    <% end %>

    <% unless @error_msg.blank? %>
          <span class="text-input__error">
            <%= forticon 'circle-xmark', height: 16 %>
            <%= @error_msg %>
          </span>
    <% end %>
  </label>
</div>
